<%- method = locals[:method] %>
<%- inout_data = method.parameters.detect { |e| e.type.name == :data && e.type.is_inout } -%>
    public func <%= Swift.format_name(method.name) %>(<%= Swift.parameters(method.parameters.drop(1)) %>) -> <%= Swift.type(method.return_type) %> {
        return <%= inout_data.name %>.withUnsafeMutableBytes { ptr in
            <%- if method.return_type.is_class || method.return_type.is_struct -%>
            <%= render('swift/entity_construct.erb', { method: method }) -%>
            <%- else -%>
            <%= render('swift/method_call.erb', { method: method }) -%>
            <%- end -%>
        }
    }
