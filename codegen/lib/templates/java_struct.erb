// Copyright Â© 2017-2018 Trust.
//
// This file is part of Trust. The full Trust copyright notice, including
// terms governing use, modification, and redistribution, is contained in the
// file LICENSE at the root of the source code distribution tree.

package com.wallet.crypto.trustapp.jni;

import java.security.InvalidParameterException;

public class <%= entity.name %> {
    private byte[] bytes;

    private <%= entity.name %>() {
    }

    static <%= entity.name %> createFromNative(byte[] bytes) {
        <%= entity.name %> instance = new <%= entity.name %>();
        instance.bytes = bytes;
        return instance;
    }

<%# Constructor declarations -%>
<%- entity.static_methods.each do |method| -%>
<%-   next unless method.name.start_with?('Init') -%>
    static native <%= Java.type(method.return_type) %> <%= Java.format_name(method.name) %>(<%= Java.parameters(method.parameters.drop(1)) %>);
<%- end -%>

<%# Static property declarations -%>
<%- entity.static_properties.each do |property| -%>
<%-   if should_return_data(property) -%>
    public static native byte[] <%= Java.format_name(property.name) %>(<%= Java.parameters(property.parameters[0...-1]) %>);
<%-   else -%>
    public static native <%= Java.type(property.return_type) %> <%= Java.format_name(property.name) %>(<%= Java.parameters(property.parameters) %>);
<%-   end -%>
<%- end -%>
<%# Static method declarations -%>
<%- entity.static_methods.each do |method| -%>
<%-   next if method.name.start_with?('Init') -%>
<%-   if should_return_data(method) -%>
    public static native byte[] <%= Java.format_name(method.name) %>(<%= Java.parameters(method.parameters[0...-1]) %>);
<%-   else -%>
    public static native <%= Java.type(method.return_type) %> <%= Java.format_name(method.name) %>(<%= Java.parameters(method.parameters) %>);
<%-   end -%>
<%- end -%>
<%# Property declarations -%>
<%- entity.properties.each do |property| -%>
<%-   if should_return_data(property) -%>
    public native byte[] <%= Java.format_name(property.name) %>(<%= Java.parameters(property.parameters[1...-1]) %>);
<%-   else -%>
    public native <%= Java.type(property.return_type) %> <%= Java.format_name(property.name) %>(<%= Java.parameters(property.parameters.drop(1)) %>);
<%-   end -%>
<%- end -%>
<%# Method declarations -%>
<%- entity.methods.each do |method| -%>
<%-   next if method.name.start_with?('Delete') -%>
<%-   if should_return_data(method) -%>
    public native byte[] <%= Java.format_name(method.name) %>(<%= Java.parameters(method.parameters[1...-1]) %>);
<%-   else -%>
    public native <%= Java.type(method.return_type) %> <%= Java.format_name(method.name) %>(<%= Java.parameters(method.parameters.drop(1)) %>);
<%-   end -%>
<%- end -%>

<%# Constructors -%>
<%- entity.static_methods.each do |method| -%>
<%-   next unless method.name.start_with?('Init') -%>
    public <%= entity.name %>(<%= Java.parameters(method.parameters.drop(1)) %>) {
        <%= Java.format_name(method.name) %>(<%= Java.arguments(method.parameters.drop(1)) %>);
        if (bytes == null) {
            throw new InvalidParameterException();
        }
    }

<%- end -%>
}
