// Copyright Â© 2017-2018 Trust.
//
// This file is part of Trust. The full Trust copyright notice, including
// terms governing use, modification, and redistribution, is contained in the
// file LICENSE at the root of the source code distribution tree.

package com.wallet.crypto.trustapp.jni;

import java.security.InvalidParameterException;

public class <%= entity.name %> {
    byte[] bytes;

<%# Constructor declarations -%>
<%- entity.static_methods.each do |method| -%>
<%-   next unless method.name.start_with?('Init') -%>
    static native <%= Java.type(method.return_type) %> native<%= method.name %>(<%= Java.parameters(method.parameters.drop(1)) %>);
<%- end -%>

<%# Static property declarations -%>
<%- entity.static_properties.each do |property| -%>
<%-   if property.return_type.is_class -%>
    static native long native<%= property.name %>(<%= Java.parameters(property.parameters) %>);
<%-   else -%>
    public static native <%= Java.type(property.return_type) %> <%= Java.format_name(property.name) %>(<%= Java.parameters(property.parameters) %>);
<%-   end -%>
<%- end -%>
<%# Static method declarations -%>
<%- entity.static_methods.each do |method| -%>
<%-   next if method.name.start_with?('Init') -%>
<%-   if method.return_type.is_class -%>
    static native long native<%= method.name %>(<%= Java.parameters(method.parameters) %>);
<%-   else -%>
    public static native <%= Java.type(method.return_type) %> <%= Java.format_name(method.name) %>(<%= Java.parameters(method.parameters) %>);
<%-   end -%>
<%- end -%>
<%# Property declarations -%>
<%- entity.properties.each do |property| -%>
<%-   if property.return_type.is_class -%>
    native long native<%= property.name %>(<%= Java.parameters(property.parameters.drop(1)) %>);
<%-   else -%>
    public native <%= Java.type(property.return_type) %> <%= Java.format_name(property.name) %>(<%= Java.parameters(property.parameters.drop(1)) %>);
<%-   end -%>
<%- end -%>
<%# Method declarations -%>
<%- entity.methods.each do |method| -%>
<%-   next if method.name.start_with?('Delete') -%>
<%-   if method.return_type.is_class -%>
    native long native<%= method.name %>(<%= Java.parameters(method.parameters.drop(1)) %>);
<%-   else -%>
    public native <%= Java.type(method.return_type) %> <%= Java.format_name(method.name) %>(<%= Java.parameters(method.parameters.drop(1)) %>);
<%-   end -%>
<%- end -%>

<%# Constructors -%>
<%- entity.static_methods.each do |method| -%>
<%-   next unless method.name.start_with?('Init') -%>
    public <%= entity.name %>(<%= Java.parameters(method.parameters.drop(1)) %>) {
        bytes = native<%= method.name %>(<%= Java.arguments(method.parameters.drop(1)) %>);
        if (bytes == null) {
            throw new InvalidParameterException();
        }
    }

<%- end -%>
}
