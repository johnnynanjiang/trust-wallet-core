// Copyright Â© 2017-2018 Trust.
//
// This file is part of Trust. The full Trust copyright notice, including
// terms governing use, modification, and redistribution, is contained in the
// file LICENSE at the root of the source code distribution tree.

#ifndef JNI_TW_<%= entity.name.upcase %>_H
#define JNI_TW_<%= entity.name.upcase %>_H

#include <jni.h>
#include <TrustWalletCore/TWBase.h>

TW_EXTERN_C_BEGIN

<%# Constructor declarations -%>
<% entity.static_methods.each do |method| -%>
<%   next unless method.name.start_with?('Create') -%>
JNIEXPORT
jlong JNICALL <%= JNIHelper.function_name(entity: entity, function: method, native_prefix: true) %>(JNIEnv *env, jclass thisClass<%= JNIHelper.parameters(method.parameters) %>);

<% end -%>
<%# Destructor declarations -%>
<% entity.methods.each do |method| -%>
<%   next unless method.name.start_with?('Delete') -%>
JNIEXPORT
void JNICALL <%= JNIHelper.function_name(entity: entity, function: method, native_prefix: true) %>(JNIEnv *env, jclass thisClass, jlong handle);

<% end -%>
<%# Initializer declarations -%>
<% entity.static_methods.each do |method| -%>
<%   next unless method.name.start_with?('Init') -%>
JNIEXPORT
<%= JNIHelper.type(method.return_type) %> JNICALL <%= JNIHelper.function_name(entity: entity, function: method) %>(JNIEnv *env, jclass thisObject<%= JNIHelper.parameters(method.parameters.drop(1)) %>);

<% end -%>
<%# Static property declarations -%>
<% entity.static_properties.each do |property| -%>
JNIEXPORT
<%   if should_return_data(property) -%>
<%=    render('jni/static_method_returning_data_prototype.erb', { method: property }) %>;
<%   else -%>
<%=    render('jni/static_method_prototype.erb', { method: property }) %>;
<%   end -%>

<% end -%>
<%# Static method declarations -%>
<% entity.static_methods.each do |method| -%>
<%   next if method.name.start_with?('Create') || method.name.start_with?('Init') -%>
JNIEXPORT
<%   if should_return_data(method) -%>
<%=    render('jni/static_method_returning_data_prototype.erb', { method: method }) %>;
<%   else -%>
<%=    render('jni/static_method_prototype.erb', { method: method }) %>;
<%   end -%>

<% end -%>
<%# Property declarations -%>
<% entity.properties.each do |property| -%>
JNIEXPORT
<%   if should_return_data(property) -%>
<%=    render('jni/method_returning_data_prototype.erb', { method: property }) %>;
<%   else -%>
<%=    render('jni/method_prototype.erb', { method: property }) %>;
<%   end -%>

<% end -%>
<%# Method declarations -%>
<% entity.methods.each do |method| -%>
<%   next if method.name.start_with?('Delete') -%>
JNIEXPORT
<%   if should_return_data(method) -%>
<%=    render('jni/method_returning_data_prototype.erb', { method: method }) %>;
<%   else -%>
<%=    render('jni/method_prototype.erb', { method: method }) %>;
<%   end -%>

<% end -%>

TW_EXTERN_C_END

#endif // JNI_TW_<%= entity.name.upcase %>_H
