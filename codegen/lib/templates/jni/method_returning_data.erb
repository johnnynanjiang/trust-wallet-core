<%  method = locals[:method] -%>
<%= render('jni/method_returning_data_prototype.erb', { method: method }) %> {
<%= render('jni/instance_access.erb', { entity: entity }) %>
<%= render('jni/parameter_access.erb', { parameters: method.parameters.drop(1) }) -%>
<%  if method.return_type.name != :void -%>
    <%= JNIHelper.type(method.return_type) %> resultValue = TWDataJByteArray(<%= render('jni/method_call.erb', { method: method }) %>, env);
<%  else -%>
    <%= render('jni/method_call.erb', { method: method }) -%>;
<%  end -%>

<%= render('jni/parameter_release.erb', { parameters: method.parameters.drop(1) }) -%>
<%= render('jni/instance_release.erb', { entity: entity }) %>

<%  if method.return_type.name != :void -%>
    return resultValue;
<%  end -%>
}
